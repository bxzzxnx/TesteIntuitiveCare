{
	"info": {
		"_postman_id": "api-ans-intuitive-care",
		"name": "API ANS - Intuitive Care",
		"description": "Coleção para testar a API de Operadoras de Saúde da ANS.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "cnpj_exemplo",
			"value": "54557861000102",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "Operadoras",
			"item": [
				{
					"name": "Listar Operadoras (Padrão)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/operadoras",
							"host": ["{{base_url}}"],
							"path": ["api", "operadoras"]
						},
						"description": "Lista operadoras com paginação padrão (page=1, limit=10)"
					},
					"response": []
				},
				{
					"name": "Listar Operadoras (Com Paginação)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/operadoras?page=1&limit=20",
							"host": ["{{base_url}}"],
							"path": ["api", "operadoras"],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Número da página (mínimo: 1)"
								},
								{
									"key": "limit",
									"value": "20",
									"description": "Itens por página (mínimo: 1, máximo: 100)"
								}
							]
						},
						"description": "Lista operadoras com paginação customizada"
					},
					"response": []
				},
				{
					"name": "Listar Operadoras (Com Busca)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/operadoras?search=unimed&page=1&limit=10",
							"host": ["{{base_url}}"],
							"path": ["api", "operadoras"],
							"query": [
								{
									"key": "search",
									"value": "unimed",
									"description": "Termo de busca (razão social)"
								},
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						},
						"description": "Busca operadoras por nome/razão social"
					},
					"response": []
				},
				{
					"name": "Listar Operadoras (Página Inválida)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/operadoras?page=0&limit=10",
							"host": ["{{base_url}}"],
							"path": ["api", "operadoras"],
							"query": [
								{
									"key": "page",
									"value": "0",
									"description": "Página inválida (deve ser >= 1)"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						},
						"description": "Testa validação - página deve ser >= 1. Esperado: erro 422"
					},
					"response": []
				},
				{
					"name": "Listar Operadoras (Limit Excedido)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/operadoras?page=1&limit=500",
							"host": ["{{base_url}}"],
							"path": ["api", "operadoras"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "500",
									"description": "Limit inválido (máximo: 100)"
								}
							]
						},
						"description": "Testa validação - limit máximo é 100. Esperado: erro 422"
					},
					"response": []
				},
				{
					"name": "Obter Operadora por CNPJ",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/operadoras/{{cnpj_exemplo}}",
							"host": ["{{base_url}}"],
							"path": ["api", "operadoras", "{{cnpj_exemplo}}"]
						},
						"description": "Obtém detalhes de uma operadora específica pelo CNPJ"
					},
					"response": []
				},
				{
					"name": "Obter Operadora (CNPJ Inexistente)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/operadoras/00000000000000",
							"host": ["{{base_url}}"],
							"path": ["api", "operadoras", "00000000000000"]
						},
						"description": "Testa busca com CNPJ que não existe. Esperado: erro 404 ou resposta vazia"
					},
					"response": []
				}
			],
			"description": "Endpoints relacionados às operadoras de saúde"
		},
		{
			"name": "Despesas",
			"item": [
				{
					"name": "Obter Despesas por CNPJ (Padrão)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/operadoras/{{cnpj_exemplo}}/despesas",
							"host": ["{{base_url}}"],
							"path": ["api", "operadoras", "{{cnpj_exemplo}}", "despesas"]
						},
						"description": "Obtém despesas de uma operadora com paginação padrão"
					},
					"response": []
				},
				{
					"name": "Obter Despesas por CNPJ (Com Paginação)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/operadoras/{{cnpj_exemplo}}/despesas?page=1&limit=50",
							"host": ["{{base_url}}"],
							"path": ["api", "operadoras", "{{cnpj_exemplo}}", "despesas"],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Número da página"
								},
								{
									"key": "limit",
									"value": "50",
									"description": "Itens por página"
								}
							]
						},
						"description": "Obtém despesas com paginação customizada"
					},
					"response": []
				},
				{
					"name": "Obter Despesas (CNPJ Inexistente)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/operadoras/00000000000000/despesas",
							"host": ["{{base_url}}"],
							"path": ["api", "operadoras", "00000000000000", "despesas"]
						},
						"description": "Testa busca de despesas com CNPJ inexistente"
					},
					"response": []
				}
			],
			"description": "Endpoints relacionados às despesas das operadoras"
		},
		{
			"name": "Estatísticas",
			"item": [
				{
					"name": "Obter Estatísticas Gerais",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/estatisticas",
							"host": ["{{base_url}}"],
							"path": ["api", "estatisticas"]
						},
						"description": "Obtém estatísticas gerais: total de despesas, média, total de operadoras e top 5"
					},
					"response": []
				}
			],
			"description": "Endpoint de estatísticas agregadas"
		},
		{
			"name": "Testes de Validação",
			"item": [
				{
					"name": "Page Negativa",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/operadoras?page=-1",
							"host": ["{{base_url}}"],
							"path": ["api", "operadoras"],
							"query": [
								{
									"key": "page",
									"value": "-1"
								}
							]
						},
						"description": "Esperado: erro 422 - page deve ser >= 1"
					},
					"response": []
				},
				{
					"name": "Limit Zero",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/operadoras?limit=0",
							"host": ["{{base_url}}"],
							"path": ["api", "operadoras"],
							"query": [
								{
									"key": "limit",
									"value": "0"
								}
							]
						},
						"description": "Esperado: erro 422 - limit deve ser >= 1"
					},
					"response": []
				},
				{
					"name": "Parâmetro Inválido (String em Page)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/operadoras?page=abc",
							"host": ["{{base_url}}"],
							"path": ["api", "operadoras"],
							"query": [
								{
									"key": "page",
									"value": "abc"
								}
							]
						},
						"description": "Esperado: erro 422 - page deve ser integer"
					},
					"response": []
				}
			],
			"description": "Testes para validar tratamento de erros da API"
		}
	]
}
